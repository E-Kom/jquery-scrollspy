!function(a,b){a.fn.extend({scrollspy:function(b,g){if(e(b)){var h=g;g=b,b=h}b=a.extend({},c,b),f(b,c,"container",d);var i=a(b.container);if(0===i.length)return this;if(f(b,c,"namespace",e),e(g)&&"DESTROY"===g.toUpperCase())return i.off("scroll."+b.namespace),this;f(b,c,"buffer",a.isNumeric),f(b,c,"max",a.isNumeric),f(b,c,"min",a.isNumeric),f(b,c,"onEnter",a.isFunction),f(b,c,"onLeave",a.isFunction),f(b,c,"onLeaveTop",a.isFunction),f(b,c,"onLeaveBottom",a.isFunction),f(b,c,"onTick",a.isFunction),a.isFunction(b.max)&&(b.max=b.max()),a.isFunction(b.min)&&(b.min=b.min());var j="VERTICAL"===(b.mode+"").toUpperCase();return this.each(function(){var c=this,d=a(c),e=0,f=!1,g=0;i.on("scroll."+b.namespace,function(){var h=a(this),k={top:h.scrollTop(),left:h.scrollLeft()},l=i.height(),m=b.max,n=b.min,o=j?k.top+b.buffer:k.left+b.buffer;if(0===m&&(m=j?l:i.outerWidth()+d.outerWidth()),o>=n&&m>=o)f||(f=!0,e++,d.trigger("scrollEnter",{position:k}),null!==b.onEnter&&b.onEnter(c,k)),d.trigger("scrollTick",{position:k,inside:f,enters:e,leaves:g}),null!==b.onTick&&b.onTick(c,k,f,e,g);else if(f)f=!1,g++,d.trigger("scrollLeave",{position:k,leaves:g}),null!==b.onLeave&&b.onLeave(c,k),n>=o?(d.trigger("scrollLeaveTop",{position:k,leaves:g}),null!==b.onLeaveTop&&b.onLeaveTop(c,k)):o>=m&&(d.trigger("scrollLeaveBottom",{position:k,leaves:g}),null!==b.onLeaveBottom&&b.onLeaveBottom(c,k));else{var p=i.scrollTop(),q=d.height(),r=d.offset().top;l+p>r&&r>p-q&&(d.trigger("scrollView",{position:k}),null!==b.onView&&b.onView(c,k))}})})}});var c={buffer:0,container:b,max:0,min:0,mode:"vertical",namespace:"scrollspy",onEnter:null,onLeave:null,onLeaveTop:null,onLeaveBottom:null,onTick:null,onView:null},d=function(b){return"object"===a.type(b)},e=function(b){return"string"===a.type(b)&&b.trim().length>0},f=function(a,b,c,d){d(a[c])||(a[c]=b[c])}}(jQuery,window,document);