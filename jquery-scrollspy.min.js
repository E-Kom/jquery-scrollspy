!function(e,n){e.fn.extend({scrollspy:function(n,l){if(t(n)){var s=l;l=n,n=s}n=e.extend({},o,n),r(n,o,"container",i);var a=e(n.container);if(0===a.length)return this;if(r(n,o,"namespace",t),t(l)&&"DESTROY"===l.toUpperCase())return a.off("scroll."+n.namespace),this;r(n,o,"buffer",e.isNumeric),r(n,o,"max",e.isNumeric),r(n,o,"min",e.isNumeric),r(n,o,"onEnter",e.isFunction),r(n,o,"onLeave",e.isFunction),r(n,o,"onLeaveTop",e.isFunction),r(n,o,"onLeaveBottom",e.isFunction),r(n,o,"onTick",e.isFunction),e.isFunction(n.max)&&(n.max=n.max()),e.isFunction(n.min)&&(n.min=n.min());var c="VERTICAL"===(n.mode+"").toUpperCase();return this.each(function(){var o=this,i=e(o),t=0,r=!1,l=0;a.on("scroll."+n.namespace,function(){var s=e(this),u={top:s.scrollTop(),left:s.scrollLeft()},f=a.height(),m=n.max,p=n.min,v=c?u.top+n.buffer:u.left+n.buffer;if(0===m&&(m=c?f:a.outerWidth()+i.outerWidth()),v>=p&&m>=v)r||(r=!0,t++,i.trigger("scrollEnter",{position:u}),null!==n.onEnter&&n.onEnter(o,u)),i.trigger("scrollTick",{position:u,inside:r,enters:t,leaves:l}),null!==n.onTick&&n.onTick(o,u,r,t,l);else if(r)r=!1,l++,i.trigger("scrollLeave",{position:u,leaves:l}),null!==n.onLeave&&n.onLeave(o,u),p>=v?(i.trigger("scrollLeaveTop",{position:u,leaves:l}),null!==n.onLeaveTop&&n.onLeaveTop(o,u)):v>=m&&(i.trigger("scrollLeaveBottom",{position:u,leaves:l}),null!==n.onLeaveBottom&&n.onLeaveBottom(o,u));else{var g=a.scrollTop(),L=i.height(),h=i.offset().top;f+g>h&&h>g-L&&(i.trigger("scrollView",{position:u}),null!==n.onView&&n.onView(o,u))}})})}});var o={buffer:0,container:n,max:0,min:0,mode:"vertical",namespace:"scrollspy",onEnter:null,onLeave:null,onLeaveTop:null,onLeaveBottom:null,onTick:null,onView:null},i=function(n){return"object"===e.type(n)},t=function(n){return"string"===e.type(n)&&n.trim().length>0},r=function(e,n,o,i){i(e[o])||(e[o]=n[o])}}(jQuery,window,document);